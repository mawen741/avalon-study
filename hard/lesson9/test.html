<!DOCTYPE html>
<html>
<<<<<<< HEAD
<head>
	<meta charset="UTF-8">
	<title>callback_bind 回调绑定属性</title>
	<script type="text/javascript" src="../../js/avalon.js"></script>
	<style type="text/css" media="screen">
		td{
			border:1px solid #dcdcdc;
		}
	</style>
</head>
<body>
<script type="text/javascript">
  var gg=[{"id":"1","title":"公告文章标题1"},{"id":"2","title":"公告文章标题2"},{"id":"3","title":"公告文章标题3"},{"id":"4","title":"公告文章标题4"}];
  var bd=[{"id":"1","title":"媒体报道文章标题1"},{"id":"2","title":"媒体报道文章标题2"},{"id":"3","title":"媒体报道文章标题3"},{"id":"4","title":"媒体报道文章标题4"},{"id":"5","title":"媒体报道文章标题5"}];
  var cc=[];
</script>
<div ms-controller="list">
  <span ms-mouseover="changeUl(1)">公告</span>
  <span ms-mouseover="changeUl(0)">媒体报道</span>
  <a ms-href="'#!/'+ more_name">{{more_text}}</a>
  <ul>
   <!--  <li ms-if-loop="a==1" ms-repeat="infoList">
    <a ms-href="'#!/'+ more_name + '/' + el.id" ms-attr-title="el.title">{{el.title}}</a>
    </li>
    <li ms-if-loop="a==2" ms-repeat="infoList2">
      <a ms-href="'#!/'+ more_name + '/' + el.id" ms-attr-title="el.title">{{el.title}}</a>
    </li> -->
    <li ms-repeat="infoList">
      <a ms-href="'#!/'+ more_name + '/' + el.id" ms-attr-title="el.title">{{el.title}}</a>
    </li>
  </ul>
</div>
<script type="text/javascript">





  	var vm = avalon.define({
    $id: "list",
    more_name: "gg",
    more_text: "更多公告",
    gg:gg,
    bd:bd,
    cc:cc,
    aa:1,
    a:1,
    infoList:gg,
    infoList2:bd,
    changeUl:function(flag){
    	// console.log(vm.gg.$model);
    	// console.log(vm.bd.$model);
    	// console.log(vm.cc.$model);
      if(flag === 1){  //鼠标移过“公告”选项卡头部
        vm.more_name = "gg";
        vm.more_text = "更多公告";
        vm.infoList = vm.gg;
        // vm.infoList = [{"id":"1","title":"公告文章标题1"},{"id":"2","title":"公告文章标题2"},{"id":"3","title":"公告文章标题3"},{"id":"4","title":"公告文章标题4"}];
      }else{  //鼠标移过“媒体报道”选项卡头部
        vm.more_name = "bd";
        vm.more_text = "更多报道";
        vm.infoList = vm.bd;

        // vm.infoList = [{"id":"1","title":"媒体报道文章标题1"},{"id":"2","title":"媒体报道文章标题2"},{"id":"3","title":"媒体报道文章标题3"},{"id":"4","title":"媒体报道文章标题4"},{"id":"5","title":"媒体报道文章标题5"}];
      }
    }
  });
  
  avalon.scan();
    
</script>
</body>
</html>
=======
    <head>
        <title>unobservable</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script src="../../js/avalon.js"></script>
        <script src="../../js/jquery-1.9.1.js"></script>
        <script>
 
   
    $(function(){
        var  vm = avalon.define({
        $id: "test",
        $aaa: "sss",
        $skipArray: ["ccc"],
        aaa: 111,
        bbb: 222,
        ccc: 333,
        fn: function() {
            return "函数"
        },
        click: function() {
            vm.$aaa = vm.aaa = vm.bbb = vm.ccc = "change"
            vm.fn = function() {
                return "----------"
            };
            alert(vm.fn());
            vm.ajax();
        },
        ajax:function(){
             $.ajax({
                url:"http://www.asd.com",
                data:{name:123},
                type:"post",
                success:function(){
                    alert(1);
                },
                error:function(){
                    alert(2);
                },
                complete:function(){
                    alert(3);
                    vm.aaa='我是ajax';
                }
            })
        }
    })
      avalon.scan();
      var M={
        aa:function(){
            $.ajax({
                url:"http://www.asd.com",
                data:{name:123},
                type:"post",
                success:function(){
                    alert(1);
                },
                error:function(){
                    alert(2);
                },
                complete:function(){
                    alert(3);
                    vm.aaa='我是ajax';
                }
            })
        }
      }
    })
        </script>
    </head>
    <body ms-controller="test">
        <p>{{$aaa}}</p>
        <p>{{aaa}}</p>
        <p>{{bbb}}</p>
        <p>{{ccc}}</p>
        <p>{{fn()}}</p>
        <button type="button" ms-click="click">点我</button>
        <button class="asd">也点我试试</button>
    </body>

</html>
>>>>>>> c890796c4f38c69838733eaa87663f4f7305c79b
